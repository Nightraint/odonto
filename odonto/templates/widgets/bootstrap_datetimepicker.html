<div class="input-group date fecha-hora" id="{{ widget.datetimepicker_id }}" data-target-input="nearest">
  {% include "django/forms/widgets/input.html" %}
  <div class="input-group-append" data-target="#{{ widget.datetimepicker_id }}" data-toggle="datetimepicker">
    <div class="input-group-text"><i class="fa fa-calendar"></i></div>
  </div>
</div>
<script>
  $(function () {
    console.log("{{widget.datetimepicker_id}}");
    
    $("#{{ widget.datetimepicker_id }}").datetimepicker({
      format: 'DD/MM/YYYY HH:mm',
      constrainInput: false,
      autoclose:true,
      forceParse: false,
      locale: 'es'
    })

    /*
    $(".input-group date").datetimepicker({
      format: 'DD/MM/YYYY HH:mm',
      constrainInput: false,
      autoclose:true,
      forceParse: false
    })
    */

    //$("#{{ widget.datetimepicker_id }}").
    $("#{{ widget.datetimepicker_id }}").on("change.datetimepicker", ({
        date,
        oldDate
      }) => {
        if(date != null /*&& oldDate != undefined*/){
          console.log(date);
          console.log("Old date", oldDate);
          $("#{{ widget.input_id }}").change();
        }
    });
  });
</script>